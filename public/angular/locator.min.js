function config(o){o.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("locatorApp",["ngRoute"]),angular.module("locatorApp").config(["$routeProvider",config]),function(){function o(o,t,n){var e=this;e.pageHeader={title:"LocatoR",strapline:"Find places to work with wifi near you!"},e.sidebar={content:"Looking for wifi and a seat? LocatoR helps you find places to work when out and about. Perhaps with coffee, cake or a pint? Let LocatoR help you find the place you're looking for."},e.getData=function(o){var n=o.coords.latitude,r=o.coords.longitude;e.message="Searching for nearby places",e.working=!0,t.locationByCoords(n,r).success(function(o){e.working=!1,e.message=o.length>0?"":"No locations found",e.data={locations:o}}).error(function(o){e.working=!1,e.message="Sorry, something's gone wrong",console.log(o)})},e.showError=function(t){o.$apply(function(){e.message=t.message})},e.noGeo=function(){o.$apply(function(){e.message="Geolocation not supported by this browser."})},n.getPosition(e.getData,e.showError,e.noGeo)}angular.module("locatorApp").controller("homeCtrl",o),o.$inject=["$scope","locatorData","geolocation"]}(),function(){var o=function(){return{getPosition:function(o,t,n){navigator.geolocation?navigator.geolocation.getCurrentPosition(o,t):n()}}};angular.module("locatorApp").service("geolocation",o)}(),function(){function o(o){return{locationByCoords:function(t,n){return o.get("/api/locations?lng="+n+"&lat="+t+"&maxdist=20")}}}o.$inject=["$http"],angular.module("locatorApp").service("locatorData",o)}(),function(){function o(){return function(o){var n,e;return o&&t(o)?(o>1?(n=parseFloat(o).toFixed(1),e="km"):(n=parseInt(1e3*o,10),e="m"),n+e):"?"}}angular.module("locatorApp").filter("formatDistance",o);var t=function(o){return!isNaN(parseFloat(o)&&isFinite(o))}}(),function(){function o(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}}angular.module("locatorApp").directive("ratingStars",o)}();